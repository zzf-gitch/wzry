//JS写
/* 获取 (<html>) 元素以全屏显示页面 */
var elem = document.documentElement;

/* View in fullscreen */
function openFullscreen() {
  if (elem.requestFullscreen) {
 elem.requestFullscreen();
  } else if (elem.mozRequestFullScreen) {/* Firefox */
 elem.mozRequestFullScreen();
  } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari and Opera */
 elem.webkitRequestFullscreen();
  } else if (elem.msRequestFullscreen) { /* IE/Edge */
 elem.msRequestFullscreen();
  }
}

/* Close fullscreen */
function closeFullscreen() {
  if (document.exitFullscreen) {
 document.exitFullscreen();
  } else if (document.mozCancelFullScreen) {  /* Firefox */
 document.mozCancelFullScreen();
  } else if (document.webkitExitFullscreen) { /* Chrome, Safari and Opera */
 document.webkitExitFullscreen();
  } else if (document.msExitFullscreen) { /* IE/Edge */
 document.msExitFullscreen();
  }
}


//vue写

//html部分
 <div v-if="isSupport" class="full-screen" :title="fullScreen ? '退出全屏' : '进入全屏'" @click="screen"><i :class="fullScreen ? 'iconfont icon-guanbiquanping' : 'iconfont icon-fullscreen-line'"></i></div>
 <div style="display:flex; align-items: center; justify-content: center; margin-right:20px"><el-button type="primary" @click="qu">退出登录</el-button></div></div>

//JS部分
//控制开启全屏和关闭全屏
const fullScreen= ref(false)
const isSupport = document.fullscreenEnabled;
const screen=()=>{
  	if (isSupport) {
		if (document.fullscreenElement) {
			document.exitFullscreen();
			fullScreen.value = false;
		} else {
			// 这里选择将html元素全屏展示，也可以选择其它元素
			document.documentElement.requestFullscreen();
			fullScreen.value = true;
		}
	}


//禁止浏览器默认行为,比如进入全屏退出全屏
// const handleF11 = (e) => {
//   console.log(e.key);
// 	if (e.key === "F11") {
// 		// 禁止浏览器默认行为，比如进入全屏退出全屏
// 		e.preventDefault();
// 		screen();
// 	}
// }
// const handleF11 = (e: KeyboardEvent) => {
// 	if (e.key === "F11") {
// 		// 禁止浏览器默认行为，比如进入全屏退出全屏
// 		e.preventDefault();
// 		toggle();
// 	}
// }
// document.addEventListener("keydown", handleF11, true);
// onBeforeUnmount(() => {
// 	document.removeEventListener("keydown", handleF11);
// 	document.removeEventListener("fullscreenchange", handleFullscreenchange);
// });
const handleFullscreenchange = () => {
	if (isSupport) {
		document.fullscreenElement ? fullScreen.value = true : fullScreen.value = false
	}
};
document.addEventListener("fullscreenchange", handleFullscreenchange, true);




//也可用于vue
//  if (!fullScreen.value) {
  //       // showfullScreen==flase  打开全屏
  //       fullScreen.value = true;
  //       let docElm = document.documentElement;
  //       if (docElm.requestFullscreen) {
  //         docElm.requestFullscreen();
  //       } else if (docElm.msRequestFullscreen) {
  //         docElm.msRequestFullscreen();
  //       } else if (docElm.mozRequestFullScreen) {
  //         docElm.mozRequestFullScreen();
  //       } else if (docElm.webkitRequestFullScreen) {
  //         docElm.webkitRequestFullScreen();
  //       }
  //     } else {
  //       //  关闭全屏
  //       fullScreen.value = false;
  //       if (document.exitFullscreen) {
  //         document.exitFullscreen();
  //       } else if (document.msExitFullscreen) {
  //         document.msExitFullscreen();
  //       } else if (document.mozCancelFullScreen) {
  //         document.mozCancelFullScreen();
  //       } else if (document.webkitCancelFullScreen) {
  //         document.webkitCancelFullScreen();
  //       }
  //     }
    // let element = document.documentElement;
    //   if (fullScreen.value) {
    //     if (document.exitFullscreen) {
    //       document.exitFullscreen();
    //     } else if (document.webkitCancelFullScreen) {
    //       document.webkitCancelFullScreen();
    //     } else if (document.mozCancelFullScreen) {
    //       document.mozCancelFullScreen();
    //     } else if (document.msExitFullscreen) {
    //       document.msExitFullscreen();
    //     }
    //   } else {
    //     if (element.requestFullscreen) {
    //       element.requestFullscreen();
    //     } else if (element.webkitRequestFullScreen) {
    //       element.webkitRequestFullScreen();
    //     } else if (element.mozRequestFullScreen) {
    //       element.mozRequestFullScreen();
    //     } else if (element.msRequestFullscreen) {
    //       // IE11
    //       element.msRequestFullscreen();
    //     }
    //   }
    //   fullScreen.value = !fullScreen.value;