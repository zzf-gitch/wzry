{"version":3,"sources":["webpack:///./src/views/PDFwordvideo.vue","webpack:///./src/views/PDFwordvideo.vue?e947","webpack:///./src/views/PDFwordvideo.vue?3302"],"names":["useRouter","useRoute","useStore","docx","require","window","JSZip","previews","ref","file","preview","e","console","log","value","files","dir","renderAsync","reactive","url","pageNum","pdfCtx","onMounted","__exports__"],"mappings":"sSA4CeA,iBACDC,iBACAC,iBAFd,IAGMC,EAAOC,EAAQ,QACrBC,OAAOC,MAAQF,EAAQ,QACvB,IAAMG,EAAWC,iBAAI,MACfC,EAAOD,iBAAI,MACXE,EAAU,SAACC,GACbC,QAAQC,IAAIJ,EAAKK,MAAMC,MAAM,IAC7BH,QAAQI,IAAIT,EAASO,OACrBX,EAAKc,YAAYR,EAAKK,MAAMC,MAAM,GAAIR,EAASO,QAIrCI,sBAAS,CACnBC,IAAK,GACLC,QAAS,EACTC,OAAQ,OAGAb,iBAAI,I,OAyChBc,wBAAU,e,seCnGV,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,YAAY,qBAExD,gB,yDCRf","file":"js/chunk-6c2b1324.8a2a2d2f.js","sourcesContent":["<template>\r\n    <div class=\"open\">\r\n        <div class=\"main_left\">\r\n            <div class=\"main_left_main\">\r\n                <div class=\"main_video\">\r\n                    <div class=\"video_main\">\r\n                        <!-- <div class=\"video\" v-if=\"suffix == 'mp4'\"> -->\r\n\r\n                        <!-- <video autoplay loop class=\"fullvideo\" controls=\"controls\" type=\"video/mp4\"\r\n                src=\"./video/视频.mp4\"></video> -->\r\n                        <!-- </div> -->\r\n                        <!-- <div class=\"pdf\">\r\n                            <template v-for=\"item in state.pageNum\" :key=\"item\" class=\"pdf-page\">\r\n                                <canvas :id=\"`pdf-canvas-${item}`\"></canvas>\r\n                            </template>\r\n                        </div> -->\r\n\r\n\r\n\r\n                        <div class=\"my-component\" ref=\"previews\">\r\n                            <input type=\"file\" @change=\"preview\" ref=\"file\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport {\r\n    ref,\r\n    defineEmits,\r\n    defineProps,\r\n    nextTick,\r\n    reactive,\r\n    onMounted,\r\n    watch,\r\n    computed,\r\n    onUnmounted,\r\n    watchEffect\r\n} from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nimport { useRouter, useRoute } from \"vue-router\";\r\nconst router = useRouter();\r\nconst route = useRoute();\r\nconst store = useStore();\r\nconst docx = require('docx-preview');\r\nwindow.JSZip = require('jszip')\r\nconst previews = ref(null)\r\nconst file = ref(null)\r\nconst preview = (e) => {\r\n    console.log(file.value.files[0]);\r\n    console.dir(previews.value);\r\n    docx.renderAsync(file.value.files[0], previews.value) // 渲染到页面预览\r\n}\r\n// const PDF = require(\"pdfjs-dist\");\r\n// PDF.GlobalWorkerOptions.workerSrc = \"./pdf_viewer.js.map\";\r\nconst state = reactive({\r\n    url: \"\",  // pdf的地址\r\n    pageNum: 0, // pdf的总页数\r\n    pdfCtx: null, // pdf对象\r\n});\r\n\r\nconst url = ref('')\r\n// url.value=require('test.pdf')\r\n// watchEffect(() => {\r\n//   if (url.value) {\r\n//     const baseUrl = 'http://localhost:8081' + url.value\r\n//     state.url = baseUrl;\r\n//     nextTick(() => {\r\n//       resolvePdf(state.url);\r\n//     });\r\n//   }\r\n// });\r\n// const resolvePdf = (url) => {\r\n//   const loadingTask = PDF.getDocument(url);\r\n//   loadingTask.promise.then((pdf) => {\r\n//     state.pdfCtx = pdf;\r\n//     state.pageNum = pdf.numPages;\r\n//     nextTick(() => {\r\n//       renderPdf();\r\n//     });\r\n//   });\r\n// };\r\n// const renderPdf = (num = 1) => {\r\n//   state.pdfCtx.getPage(num).then((page) => {\r\n//     // 获取元素\r\n//     const canvas = document.getElementById(`pdf-canvas-${num}`);\r\n//     const ctx = canvas.getContext(\"2d\");\r\n//     // 设置缩放值\r\n//     const viewport = page.getViewport(state.scale);\r\n//     canvas.height = viewport.height;\r\n//     canvas.width = viewport.width;\r\n//     page.render({\r\n//       canvasContext: ctx,\r\n//       viewport: viewport,\r\n//     });\r\n//     if (num < state.pageNum) {\r\n//       setTimeout(() => {\r\n//         renderPdf(num + 1);\r\n//       }, 100);\r\n//     }\r\n//   });\r\n// };\r\nonMounted(() => {\r\n\r\n})\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.open {\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    align-items: center;\r\n    box-sizing: border-box;\r\n    margin-left: 100px;\r\n\r\n    .main_left {\r\n        width: 60%;\r\n        height: 100%;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n\r\n        .main_left_main {\r\n            width: 100%;\r\n            height: 90%;\r\n            border: 1px solid #dadada;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n\r\n            .main_video {\r\n                width: 98%;\r\n                height: 95%;\r\n\r\n                .video_main {\r\n                    width: 100%;\r\n                    height: 100%;\r\n\r\n                    .pdf {\r\n                        width: 100%;\r\n                        height: 100%;\r\n                        overflow: hidden;\r\n                        overflow-y: scroll;\r\n\r\n                        canvas {\r\n                            display: block;\r\n                            margin-top: 20px;\r\n                            margin-left: 12%;\r\n                        }\r\n                    }\r\n\r\n                    .video {\r\n                        width: 100%;\r\n                        height: 100%;\r\n\r\n                        .fullvideo {\r\n                            width: 100%;\r\n                            height: 100%;\r\n                            object-fit: cover;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                .my-component {\r\n                    width: 100%;\r\n                    height: 100%;\r\n                    overflow: hidden;\r\n                    overflow-y: scroll;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n</style>","import script from \"./PDFwordvideo.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PDFwordvideo.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./PDFwordvideo.vue?vue&type=style&index=0&id=c18c53a6&scoped=true&lang=scss\"\n\nimport exportComponent from \"D:\\\\D盘\\\\桌面\\\\项目\\\\王者荣耀后台管理系统\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-c18c53a6\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./PDFwordvideo.vue?vue&type=style&index=0&id=c18c53a6&scoped=true&lang=scss\""],"sourceRoot":""}